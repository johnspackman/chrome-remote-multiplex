{"version":3,"sources":["cmdline.js"],"names":["argv","require","usage","options","default","describe","type","help","server","remoteClient","connectTo","listenPort","serverPort","logging","debug","listen","then","console","log","Promise","catch","err"],"mappings":";;AAEA;;;;;;AAEA,IAAIA,OAAOC,QAAQ,OAAR,EACRC,KADQ,CACF,WADE,EAERC,OAFQ,CAEA;AACP,gBAAc;AACZC,aAAS,gBADG;AAEZC,cAAU,sDAFE;AAGZC,UAAM;AAHM,GADP;AAMP,iBAAe;AACbF,aAAS,IADI;AAEbC,cAAU,6CAFG;AAGbC,UAAM;AAHO,GANR;AAWP,WAAS;AACPF,aAAS,KADF;AAEPC,cAAU,sBAFH;AAGPC,UAAM;AAHC;AAXF,CAFA,EAmBRC,IAnBQ,GAoBRP,IApBH;;AAsBA,IAAIQ,SAAS,wBAAoB;AAC/BC,gBAAcT,KAAKU,SADY;AAE/BC,cAAYX,KAAKY,UAFc;AAG/BC,WAASb,KAAKc,KAAL,GAAa,OAAb,GAAuB;AAHD,CAApB,CAAb;AAKAN,OAAOO,MAAP,GACGC,IADH,CACQ,YAAM;AACVC,UAAQC,GAAR,CAAY,mDAAmDV,OAAOL,OAAP,CAAeM,YAAlE,GACR,mDADQ,GAC8CD,OAAOL,OAAP,CAAeQ,UADzE;AAEA,SAAO,IAAIQ,OAAJ,CAAY,YAAM,CAAE,CAApB,CAAP;AACD,CALH,EAMGC,KANH,CAMS,UAACC,GAAD;AAAA,SAASJ,QAAQC,GAAR,CAAY,oDAAoDG,GAAhE,CAAT;AAAA,CANT","file":"cmdline.js","sourcesContent":["\n\nimport MultiplexServer from \"./multiplex\";\n\nvar argv = require(\"yargs\")\n  .usage(\"$0 [args]\")\n  .options({\n    \"connect-to\": {\n      default: \"localhost:9222\",\n      describe: \"Host and port to connect to, running Chrome Headless\",\n      type: \"string\"\n    },\n    \"server-port\": {\n      default: 9223,\n      describe: \"The port for this proxy server to listen on\",\n      type: \"number\"\n    },\n    \"debug\": {\n      default: false,\n      describe: \"Include debug output\",\n      type: \"bool\"\n    }\n  })\n  .help()\n  .argv;\n\nvar server = new MultiplexServer({\n  remoteClient: argv.connectTo,\n  listenPort: argv.serverPort,\n  logging: argv.debug ? \"debug\" : \"info\"\n});\nserver.listen()\n  .then(() => {\n    console.log(\"Connected to remote headless Chrome at http://\" + server.options.remoteClient + \n        \"\\nTo start debugging, browse to http://localhost:\" + server.options.listenPort);\n    return new Promise(() => {});\n  })\n  .catch((err) => console.log(\"Error while talking to remote headless Chrome: \" + err));\n\n"]}